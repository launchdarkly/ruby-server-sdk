<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: LaunchDarkly::Interfaces::DataSystem::ChangeSetBuilder
  
    &mdash; LaunchDarkly Ruby SDK
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "LaunchDarkly::Interfaces::DataSystem::ChangeSetBuilder";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../LaunchDarkly.html" title="LaunchDarkly (module)">LaunchDarkly</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Interfaces.html" title="LaunchDarkly::Interfaces (module)">Interfaces</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../DataSystem.html" title="LaunchDarkly::Interfaces::DataSystem (module)">DataSystem</a></span></span>
     &raquo; 
    <span class="title">ChangeSetBuilder</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: LaunchDarkly::Interfaces::DataSystem::ChangeSetBuilder
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">LaunchDarkly::Interfaces::DataSystem::ChangeSetBuilder</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/ldclient-rb/interfaces/data_system.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>ChangeSetBuilder is a helper for constructing a ChangeSet.</p>

<p>This type is not stable, and not subject to any backwards compatibility guarantees or semantic versioning.
It is in early access. If you want access to this feature please join the EAP. <a href="https://launchdarkly.com/docs/sdk/features/data-saving-mode">https://launchdarkly.com/docs/sdk/features/data-saving-mode</a></p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#changes-instance_method" title="#changes (instance method)">#<strong>changes</strong>  &#x21d2; Array&lt;Change&gt; </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The changes.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#intent-instance_method" title="#intent (instance method)">#<strong>intent</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The current intent (<span class='object_link'><a href="IntentCode.html" title="LaunchDarkly::Interfaces::DataSystem::IntentCode (module)">IntentCode</a></span>).</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty-class_method" title="empty (class method)">.<strong>empty</strong>(selector)  &#x21d2; ChangeSet </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns an empty ChangeSet, useful for initializing without data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#no_changes-class_method" title="no_changes (class method)">.<strong>no_changes</strong>  &#x21d2; ChangeSet </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Represents an intent that the current data is up-to-date and doesn&#39;t require changes.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_delete-instance_method" title="#add_delete (instance method)">#<strong>add_delete</strong>(kind, key, version)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Adds a deletion to the changeset.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_put-instance_method" title="#add_put (instance method)">#<strong>add_put</strong>(kind, key, version, obj)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Adds a new object to the changeset.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expect_changes-instance_method" title="#expect_changes (instance method)">#<strong>expect_changes</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Ensures that the current ChangeSetBuilder is prepared to handle changes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#finish-instance_method" title="#finish (instance method)">#<strong>finish</strong>(selector)  &#x21d2; ChangeSet </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Identifies a changeset with a selector and returns the completed changeset.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>  &#x21d2; ChangeSetBuilder </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of ChangeSetBuilder.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset-instance_method" title="#reset (instance method)">#<strong>reset</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Clears any existing changes while preserving the current intent.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start-instance_method" title="#start (instance method)">#<strong>start</strong>(intent)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Begins a new change set with a given intent.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="LaunchDarkly::Interfaces::DataSystem::ChangeSetBuilder (class)">ChangeSetBuilder</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new instance of ChangeSetBuilder.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


418
419
420
421</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 418</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='ivar'>@intent</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@changes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="changes=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="changes-instance_method">
  
    #<strong>changes</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Change.html" title="LaunchDarkly::Interfaces::DataSystem::Change (class)">Change</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns The changes.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Change.html" title="LaunchDarkly::Interfaces::DataSystem::Change (class)">Change</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The changes</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


416
417
418</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 416</span>

<span class='kw'>def</span> <span class='id identifier rubyid_changes'>changes</span>
  <span class='ivar'>@changes</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="intent=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="intent-instance_method">
  
    #<strong>intent</strong>  &#x21d2; <tt>String</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns The current intent (<span class='object_link'><a href="IntentCode.html" title="LaunchDarkly::Interfaces::DataSystem::IntentCode (module)">IntentCode</a></span>).</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The current intent (<span class='object_link'><a href="IntentCode.html" title="LaunchDarkly::Interfaces::DataSystem::IntentCode (module)">IntentCode</a></span>)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413
414
415</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 413</span>

<span class='kw'>def</span> <span class='id identifier rubyid_intent'>intent</span>
  <span class='ivar'>@intent</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="empty-class_method">
  
    .<strong>empty</strong>(selector)  &#x21d2; <tt><span class='object_link'><a href="ChangeSet.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet (class)">ChangeSet</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns an empty ChangeSet, useful for initializing without data.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>selector</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Selector.html" title="LaunchDarkly::Interfaces::DataSystem::Selector (class)">Selector</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The selector</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ChangeSet.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet (class)">ChangeSet</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


442
443
444
445
446
447
448</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 442</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_empty'>empty</span><span class='lparen'>(</span><span class='id identifier rubyid_selector'>selector</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="ChangeSet.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet (class)">ChangeSet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ChangeSet.html#initialize-instance_method" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>intent_code:</span> <span class='const'><span class='object_link'><a href="IntentCode.html" title="LaunchDarkly::Interfaces::DataSystem::IntentCode (module)">IntentCode</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="IntentCode.html#TRANSFER_FULL-constant" title="LaunchDarkly::Interfaces::DataSystem::IntentCode::TRANSFER_FULL (constant)">TRANSFER_FULL</a></span></span><span class='comma'>,</span>
    <span class='label'>selector:</span> <span class='id identifier rubyid_selector'>selector</span><span class='comma'>,</span>
    <span class='label'>changes:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="no_changes-class_method">
  
    .<strong>no_changes</strong>  &#x21d2; <tt><span class='object_link'><a href="ChangeSet.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet (class)">ChangeSet</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Represents an intent that the current data is up-to-date and doesn&#39;t require changes.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ChangeSet.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet (class)">ChangeSet</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


428
429
430
431
432
433
434</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 428</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_no_changes'>no_changes</span>
  <span class='const'><span class='object_link'><a href="ChangeSet.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet (class)">ChangeSet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ChangeSet.html#initialize-instance_method" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>intent_code:</span> <span class='const'><span class='object_link'><a href="IntentCode.html" title="LaunchDarkly::Interfaces::DataSystem::IntentCode (module)">IntentCode</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="IntentCode.html#TRANSFER_NONE-constant" title="LaunchDarkly::Interfaces::DataSystem::IntentCode::TRANSFER_NONE (constant)">TRANSFER_NONE</a></span></span><span class='comma'>,</span>
    <span class='label'>selector:</span> <span class='const'><span class='object_link'><a href="Selector.html" title="LaunchDarkly::Interfaces::DataSystem::Selector (class)">Selector</a></span></span><span class='period'>.</span><span class='id identifier rubyid_no_selector'><span class='object_link'><a href="Selector.html#no_selector-class_method" title="LaunchDarkly::Interfaces::DataSystem::Selector.no_selector (method)">no_selector</a></span></span><span class='comma'>,</span>
    <span class='label'>changes:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_delete-instance_method">
  
    #<strong>add_delete</strong>(kind, key, version)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Adds a deletion to the changeset.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>kind</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The object kind (<span class='object_link'><a href="ObjectKind.html" title="LaunchDarkly::Interfaces::DataSystem::ObjectKind (module)">ObjectKind</a></span>)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The key</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>version</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The version</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


536
537
538
539
540
541
542
543</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 536</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_delete'>add_delete</span><span class='lparen'>(</span><span class='id identifier rubyid_kind'>kind</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span>
  <span class='ivar'>@changes</span> <span class='op'>&lt;&lt;</span> <span class='const'><span class='object_link'><a href="Change.html" title="LaunchDarkly::Interfaces::DataSystem::Change (class)">Change</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Change.html#initialize-instance_method" title="LaunchDarkly::Interfaces::DataSystem::Change#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>action:</span> <span class='const'><span class='object_link'><a href="ChangeType.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeType (module)">ChangeType</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ChangeType.html#DELETE-constant" title="LaunchDarkly::Interfaces::DataSystem::ChangeType::DELETE (constant)">DELETE</a></span></span><span class='comma'>,</span>
    <span class='label'>kind:</span> <span class='id identifier rubyid_kind'>kind</span><span class='comma'>,</span>
    <span class='label'>key:</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span>
    <span class='label'>version:</span> <span class='id identifier rubyid_version'>version</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_put-instance_method">
  
    #<strong>add_put</strong>(kind, key, version, obj)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Adds a new object to the changeset.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>kind</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The object kind (<span class='object_link'><a href="ObjectKind.html" title="LaunchDarkly::Interfaces::DataSystem::ObjectKind (module)">ObjectKind</a></span>)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The key</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>version</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The version</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>obj</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The object data</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


518
519
520
521
522
523
524
525
526</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 518</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_put'>add_put</span><span class='lparen'>(</span><span class='id identifier rubyid_kind'>kind</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
  <span class='ivar'>@changes</span> <span class='op'>&lt;&lt;</span> <span class='const'><span class='object_link'><a href="Change.html" title="LaunchDarkly::Interfaces::DataSystem::Change (class)">Change</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Change.html#initialize-instance_method" title="LaunchDarkly::Interfaces::DataSystem::Change#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>action:</span> <span class='const'><span class='object_link'><a href="ChangeType.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeType (module)">ChangeType</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ChangeType.html#PUT-constant" title="LaunchDarkly::Interfaces::DataSystem::ChangeType::PUT (constant)">PUT</a></span></span><span class='comma'>,</span>
    <span class='label'>kind:</span> <span class='id identifier rubyid_kind'>kind</span><span class='comma'>,</span>
    <span class='label'>key:</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span>
    <span class='label'>version:</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span>
    <span class='label'>object:</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expect_changes-instance_method">
  
    #<strong>expect_changes</strong>  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Ensures that the current ChangeSetBuilder is prepared to handle changes.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>RuntimeError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if no server-intent has been set</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


467
468
469
470
471
472
473</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 467</span>

<span class='kw'>def</span> <span class='id identifier rubyid_expect_changes'>expect_changes</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>changeset: cannot expect changes without a server-intent</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@intent</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@intent</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="IntentCode.html" title="LaunchDarkly::Interfaces::DataSystem::IntentCode (module)">IntentCode</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="IntentCode.html#TRANSFER_NONE-constant" title="LaunchDarkly::Interfaces::DataSystem::IntentCode::TRANSFER_NONE (constant)">TRANSFER_NONE</a></span></span>

  <span class='ivar'>@intent</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IntentCode.html" title="LaunchDarkly::Interfaces::DataSystem::IntentCode (module)">IntentCode</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="IntentCode.html#TRANSFER_CHANGES-constant" title="LaunchDarkly::Interfaces::DataSystem::IntentCode::TRANSFER_CHANGES (constant)">TRANSFER_CHANGES</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="finish-instance_method">
  
    #<strong>finish</strong>(selector)  &#x21d2; <tt><span class='object_link'><a href="ChangeSet.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet (class)">ChangeSet</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Identifies a changeset with a selector and returns the completed changeset.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>selector</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Selector.html" title="LaunchDarkly::Interfaces::DataSystem::Selector (class)">Selector</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The selector</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ChangeSet.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet (class)">ChangeSet</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>RuntimeError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if no server-intent has been set</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 491</span>

<span class='kw'>def</span> <span class='id identifier rubyid_finish'>finish</span><span class='lparen'>(</span><span class='id identifier rubyid_selector'>selector</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>changeset: cannot complete without a server-intent</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@intent</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='id identifier rubyid_changeset'>changeset</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ChangeSet.html" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet (class)">ChangeSet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ChangeSet.html#initialize-instance_method" title="LaunchDarkly::Interfaces::DataSystem::ChangeSet#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>intent_code:</span> <span class='ivar'>@intent</span><span class='comma'>,</span>
    <span class='label'>selector:</span> <span class='id identifier rubyid_selector'>selector</span><span class='comma'>,</span>
    <span class='label'>changes:</span> <span class='ivar'>@changes</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@changes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='comment'># Once a full transfer has been processed, all future changes should be
</span>  <span class='comment'># assumed to be changes. Flag delivery can override this behavior by
</span>  <span class='comment'># sending a new server intent to any connected stream.
</span>  <span class='ivar'>@intent</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IntentCode.html" title="LaunchDarkly::Interfaces::DataSystem::IntentCode (module)">IntentCode</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="IntentCode.html#TRANSFER_CHANGES-constant" title="LaunchDarkly::Interfaces::DataSystem::IntentCode::TRANSFER_CHANGES (constant)">TRANSFER_CHANGES</a></span></span> <span class='kw'>if</span> <span class='ivar'>@intent</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="IntentCode.html" title="LaunchDarkly::Interfaces::DataSystem::IntentCode (module)">IntentCode</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="IntentCode.html#TRANSFER_FULL-constant" title="LaunchDarkly::Interfaces::DataSystem::IntentCode::TRANSFER_FULL (constant)">TRANSFER_FULL</a></span></span>

  <span class='id identifier rubyid_changeset'>changeset</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reset-instance_method">
  
    #<strong>reset</strong>  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Clears any existing changes while preserving the current intent.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


480
481
482</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 480</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reset'>reset</span>
  <span class='ivar'>@changes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start-instance_method">
  
    #<strong>start</strong>(intent)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Begins a new change set with a given intent.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>intent</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The intent code (<span class='object_link'><a href="IntentCode.html" title="LaunchDarkly::Interfaces::DataSystem::IntentCode (module)">IntentCode</a></span>)</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


456
457
458
459</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/interfaces/data_system.rb', line 456</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='id identifier rubyid_intent'>intent</span><span class='rparen'>)</span>
  <span class='ivar'>@intent</span> <span class='op'>=</span> <span class='id identifier rubyid_intent'>intent</span>
  <span class='ivar'>@changes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Jan 30 22:48:08 2026 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.38 (ruby-3.2.10).
</div>

    </div>
  </body>
</html>