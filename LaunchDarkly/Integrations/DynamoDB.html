<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: LaunchDarkly::Integrations::DynamoDB
  
    &mdash; LaunchDarkly Ruby SDK (6.3.0)
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "LaunchDarkly::Integrations::DynamoDB";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (D)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../LaunchDarkly.html" title="LaunchDarkly (module)">LaunchDarkly</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Integrations.html" title="LaunchDarkly::Integrations (module)">Integrations</a></span></span>
     &raquo; 
    <span class="title">DynamoDB</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: LaunchDarkly::Integrations::DynamoDB
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/ldclient-rb/integrations/dynamodb.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Integration with <a href="https://aws.amazon.com/dynamodb/">DynamoDB</a>.</p>

<p>Note that in order to use this integration, you must first install one of the AWS SDK gems: either
<code>aws-sdk-dynamodb</code>, or the full <code>aws-sdk</code>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>5.5.0</p>
</div>
      
    </li>
  
</ul>

</div>






  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_big_segment_store-class_method" title="new_big_segment_store (class method)">.<strong>new_big_segment_store</strong>(table_name, opts)  &#x21d2; LaunchDarkly::Interfaces::BigSegmentStore </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a DynamoDB-backed Big Segment store.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_feature_store-class_method" title="new_feature_store (class method)">.<strong>new_feature_store</strong>(table_name, opts)  &#x21d2; LaunchDarkly::Interfaces::FeatureStore </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a DynamoDB-backed persistent feature store.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="new_big_segment_store-class_method">
  
    .<strong>new_big_segment_store</strong>(table_name, opts)  &#x21d2; <tt><span class='object_link'><a href="../Interfaces/BigSegmentStore.html" title="LaunchDarkly::Interfaces::BigSegmentStore (module)">LaunchDarkly::Interfaces::BigSegmentStore</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a DynamoDB-backed Big Segment store.</p>

<p>Big Segments are a specific type of user segments. For more information, read the LaunchDarkly
documentation: <a href="https://docs.launchdarkly.com/home/users/big-segments">https://docs.launchdarkly.com/home/users/big-segments</a></p>

<p>To use this method, you must first install one of the AWS SDK gems: either <code>aws-sdk-dynamodb</code>, or
the full <code>aws-sdk</code>. Then, put the object returned by this method into the <code>store</code> property of your
Big Segments configuration (see <code>Config</code>).</p>

<p>Note that the specified table must already exist in DynamoDB. It must have a partition key called
&quot;namespace&quot;, and a sort key called &quot;key&quot; (both strings). The SDK does not create the table
automatically because it has no way of knowing what additional properties (such as permissions
and throughput) you would want it to have.</p>

<p>By default, the DynamoDB client will try to get your AWS credentials and region name from
environment variables and/or local configuration files, as described in the AWS SDK documentation.
You can also specify any supported AWS SDK options in <code>dynamodb_opts</code>-- or, provide an
already-configured DynamoDB client in <code>existing_client</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Configuring Big Segments</p>
</div></p>
      
      <pre class="example code"><code>store = LaunchDarkly::Integrations::DynamoDB::new_big_segment_store(&quot;my-table-name&quot;)
config = LaunchDarkly::Config.new(big_segments: LaunchDarkly::BigSegmentsConfig.new(store: store)
client = LaunchDarkly::LDClient.new(my_sdk_key, config)</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the configuration options (these are all the same as for <code>new_feature_store</code>,
except that there are no caching parameters)</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:dynamodb_opts</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>options to pass to the DynamoDB client constructor (ignored if you specify <code>:existing_client</code>)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:existing_client</span>
          <span class="type">(<tt>Object</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>an already-constructed DynamoDB client for the feature store to use</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:prefix</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>namespace prefix to add to all keys used by LaunchDarkly</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:logger</span>
          <span class="type">(<tt>Logger</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>a <code>Logger</code> instance; defaults to <code>Config.default_logger</code></p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Interfaces/BigSegmentStore.html" title="LaunchDarkly::Interfaces::BigSegmentStore (module)">LaunchDarkly::Interfaces::BigSegmentStore</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a Big Segment store object</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>5.5.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/integrations/dynamodb.rb', line 87</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new_big_segment_store'>new_big_segment_store</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../../LaunchDarkly.html" title="LaunchDarkly (module)">LaunchDarkly</a></span></span><span class='op'>::</span><span class='const'>Impl</span><span class='op'>::</span><span class='const'>Integrations</span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Impl/Integrations/DynamoDB.html" title="LaunchDarkly::Impl::Integrations::DynamoDB (module)">DynamoDB</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Impl/Integrations/DynamoDB/DynamoDBBigSegmentStore.html" title="LaunchDarkly::Impl::Integrations::DynamoDB::DynamoDBBigSegmentStore (class)">DynamoDBBigSegmentStore</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Impl/Integrations/DynamoDB/DynamoDBBigSegmentStore.html#initialize-instance_method" title="LaunchDarkly::Impl::Integrations::DynamoDB::DynamoDBBigSegmentStore#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_feature_store-class_method">
  
    .<strong>new_feature_store</strong>(table_name, opts)  &#x21d2; <tt><span class='object_link'><a href="../Interfaces/FeatureStore.html" title="LaunchDarkly::Interfaces::FeatureStore (module)">LaunchDarkly::Interfaces::FeatureStore</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a DynamoDB-backed persistent feature store. For more details about how and why you can
use a persistent feature store, see the
<a href="https://docs.launchdarkly.com/sdk/features/storing-data#ruby">SDK reference guide</a>.</p>

<p>To use this method, you must first install one of the AWS SDK gems: either <code>aws-sdk-dynamodb</code>, or
the full <code>aws-sdk</code>. Then, put the object returned by this method into the <code>feature_store</code> property
of your client configuration (<span class='object_link'><a href="../Config.html" title="LaunchDarkly::Config (class)">Config</a></span>).</p>

<p>Note that the specified table must already exist in DynamoDB. It must have a partition key called
&quot;namespace&quot;, and a sort key called &quot;key&quot; (both strings). The SDK does not create the table
automatically because it has no way of knowing what additional properties (such as permissions
and throughput) you would want it to have.</p>

<p>By default, the DynamoDB client will try to get your AWS credentials and region name from
environment variables and/or local configuration files, as described in the AWS SDK documentation.
You can also specify any supported AWS SDK options in <code>dynamodb_opts</code>-- or, provide an
already-configured DynamoDB client in <code>existing_client</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Configuring the feature store</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../LaunchDarkly.html" title="LaunchDarkly (module)">LaunchDarkly</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Integrations.html" title="LaunchDarkly::Integrations (module)">Integrations</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="LaunchDarkly::Integrations::DynamoDB (module)">DynamoDB</a></span></span><span class='op'>::</span><span class='id identifier rubyid_new_feature_store'>new_feature_store</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my-table-name</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../LaunchDarkly.html" title="LaunchDarkly (module)">LaunchDarkly</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Config.html" title="LaunchDarkly::Config (class)">Config</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Config.html#initialize-instance_method" title="LaunchDarkly::Config#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>feature_store:</span> <span class='id identifier rubyid_store'>store</span><span class='rparen'>)</span>
<span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../LaunchDarkly.html" title="LaunchDarkly (module)">LaunchDarkly</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../LDClient.html" title="LaunchDarkly::LDClient (class)">LDClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../LDClient.html#initialize-instance_method" title="LaunchDarkly::LDClient#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_my_sdk_key'>my_sdk_key</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>table_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>name of an existing DynamoDB table</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the configuration options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:dynamodb_opts</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>options to pass to the DynamoDB client constructor (ignored if you specify <code>:existing_client</code>)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:existing_client</span>
          <span class="type">(<tt>Object</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>an already-constructed DynamoDB client for the feature store to use</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:prefix</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>namespace prefix to add to all keys used by LaunchDarkly</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:logger</span>
          <span class="type">(<tt>Logger</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>a <code>Logger</code> instance; defaults to <code>Config.default_logger</code></p>
</div>
          
        </li>
      
        <li>
          <span class="name">:expiration</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>15</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>expiration time for the in-memory cache, in seconds; 0 for no local caching</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:capacity</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>1000</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>maximum number of items in the cache</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Interfaces/FeatureStore.html" title="LaunchDarkly::Interfaces::FeatureStore (module)">LaunchDarkly::Interfaces::FeatureStore</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a feature store object</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>5.5.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51
52</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ldclient-rb/integrations/dynamodb.rb', line 49</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new_feature_store'>new_feature_store</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_core'>core</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../LaunchDarkly.html" title="LaunchDarkly (module)">LaunchDarkly</a></span></span><span class='op'>::</span><span class='const'>Impl</span><span class='op'>::</span><span class='const'>Integrations</span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Impl/Integrations/DynamoDB.html" title="LaunchDarkly::Impl::Integrations::DynamoDB (module)">DynamoDB</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Impl/Integrations/DynamoDB/DynamoDBFeatureStoreCore.html" title="LaunchDarkly::Impl::Integrations::DynamoDB::DynamoDBFeatureStoreCore (class)">DynamoDBFeatureStoreCore</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Impl/Integrations/DynamoDB/DynamoDBFeatureStoreCore.html#initialize-instance_method" title="LaunchDarkly::Impl::Integrations::DynamoDB::DynamoDBFeatureStoreCore#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../../LaunchDarkly.html" title="LaunchDarkly (module)">LaunchDarkly</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Integrations.html" title="LaunchDarkly::Integrations (module)">Integrations</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Util.html" title="LaunchDarkly::Integrations::Util (module)">Util</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Util/CachingStoreWrapper.html" title="LaunchDarkly::Integrations::Util::CachingStoreWrapper (class)">CachingStoreWrapper</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Util/CachingStoreWrapper.html#initialize-instance_method" title="LaunchDarkly::Integrations::Util::CachingStoreWrapper#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_core'>core</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Dec  9 23:39:37 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-2.5.9).
</div>

    </div>
  </body>
</html>